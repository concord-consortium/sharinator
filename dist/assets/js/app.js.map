{"version":3,"sources":["webpack:///./src/app.tsx","webpack:///./src/components/ago.ts","webpack:///./src/components/app.tsx","webpack:///./src/components/class-info.ts","webpack:///./src/components/classroom-page.tsx","webpack:///./src/components/student-page.tsx"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { App } from \"./components/app\"\n\nReactDOM.render(\n    <App />,\n    document.getElementById(\"app\")\n);\n\n\n// WEBPACK FOOTER //\n// ./src/app.tsx","const agoUnits = [\n\t{ max: 2760000, value: 60000, name: 'minute', prev: 'a minute ago' }, // max: 46 minutes\n\t{ max: 72000000, value: 3600000, name: 'hour', prev: 'an hour ago' }, // max: 20 hours\n\t{ max: 518400000, value: 86400000, name: 'day', prev: 'yesterday' }, // max: 6 days\n\t{ max: 2419200000, value: 604800000, name: 'week', prev: 'last week' }, // max: 28 days\n\t{ max: 28512000000, value: 2592000000, name: 'month', prev: 'last month' }, // max: 11 months\n\t{ max: Infinity, value: 31536000000, name: 'year', prev: 'last year' }\n]\n\nexport function ago(timestamp:number) {\n  const diff = Math.abs(Date.now() - timestamp)\n  if (diff < 60000) { // less than a minute\n    return 'just now'\n  }\n\n  for (var i = 0; i < agoUnits.length; i++) {\n    if (diff < agoUnits[i].max) {\n      const val = Math.floor(diff / agoUnits[i].value)\n      return val <= 1 ? agoUnits[i].prev : `${val} ${agoUnits[i].name}s ago`;\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/ago.ts","import * as React from \"react\";\nimport { Interactive, InteractiveMap, Student, StudentMap, StudentInteractive, FirebaseInteractive, FirebaseStudent, FirebaseData, FirebaseStudentInteractive, Activity} from \"./types\"\nimport { StudentPage } from \"./student-page\"\nimport { ClassroomPage } from \"./classroom-page\"\nimport { ClassInfo } from \"./class-info\"\n\ndeclare var firebase: any;  // @types/firebase is not Firebase 3\n\nconst base64url = require(\"base64-url\")\nconst queryString = require(\"query-string\")\n\nexport interface AppProps {\n}\n\nexport interface AppState {\n  class: string|null\n  className: string|null\n  loading: boolean\n  error: string|null\n  studentInteractive: StudentInteractive|null\n  student: Student|null\n  interactives: Array<Interactive>\n  students: Array<Student>,\n  activity: Array<Activity>\n  firebaseData: any|null\n}\n\nexport class App extends React.Component<AppProps, AppState> {\n  private classroomRef:any\n  private classInfo:ClassInfo\n\n  constructor(props: AppProps) {\n    super(props)\n\n    this.setStudentInteractive = this.setStudentInteractive.bind(this)\n    this.getInteractiveHref = this.getInteractiveHref.bind(this)\n\n    this.state = {\n      class: null,\n      className: null,\n      loading: true,\n      error: null,\n      studentInteractive: null,\n      student: null,\n      interactives: [],\n      students: [],\n      activity: [],\n      firebaseData: null\n    }\n  }\n\n  componentWillMount() {\n    const query = queryString.parse(location.search)\n    let firstLoad = true\n\n    if (!query.class) {\n      return this.setState({error: \"Missing class in query string\"})\n    }\n    this.setState({loading: true, class: query.class})\n\n    this.classInfo = new ClassInfo(base64url.decode(query.class))\n    this.classInfo.getClassInfo((err, info) => {\n      if (err) {\n        this.setState({\n          loading: false,\n          error: err\n        })\n        return\n      }\n\n      this.setState({className: info.name})\n\n      // connect to firebase\n      this.classroomRef = firebase.database().ref(`classes/${info.privateClassHash}`)\n      this.classroomRef.on(\"value\", (snapshot:any) => {\n        const interactives:Array<Interactive> = []\n        const students:Array<Student> = []\n        const activity:Array<Activity> = []\n        const firebaseData = snapshot.val()\n        let student:Student|null = null\n        let studentInteractive:StudentInteractive|null = null\n        let error:string|null = null\n        let createdAt:number|null = null\n        const interactiveMap:InteractiveMap = {}\n        const studentMap:StudentMap = {}\n        let studentNamesNotFound:boolean = false\n\n        if (firebaseData) {\n          if (firebaseData.interactives) {\n            Object.keys(firebaseData.interactives).forEach((firebaseInteractiveId) => {\n              const firebaseInteractive:FirebaseInteractive = firebaseData.interactives[firebaseInteractiveId]\n              const interactive:Interactive = {\n                id: firebaseInteractiveId,\n                name: firebaseInteractive.name,\n                students: {}\n              }\n              interactives.push(interactive)\n              interactiveMap[firebaseInteractiveId] = interactive\n            })\n          }\n\n          if (firebaseData.students) {\n            Object.keys(firebaseData.students).forEach((firebaseStudentId) => {\n              const firebaseStudent:FirebaseStudent = firebaseData.students[firebaseStudentId]\n              const studentName = this.classInfo.getStudentName(firebaseStudentId)\n              const student:Student = {\n                id: firebaseStudentId,\n                name: studentName.name,\n                interactives: {}\n              }\n              if (!studentName.found) {\n                studentNamesNotFound = true\n              }\n\n              if (firebaseStudent.interactives) {\n                Object.keys(firebaseStudent.interactives).forEach((firebaseInteractiveId) => {\n                  const interactive = interactiveMap[firebaseInteractiveId]\n                  if (interactive) {\n                    const studentInteractives = student.interactives[firebaseInteractiveId] = student.interactives[firebaseInteractiveId] || []\n                    const firebaseStudentInteractives = firebaseStudent.interactives[firebaseInteractiveId]\n                    Object.keys(firebaseStudentInteractives).forEach((firebaseStudentInteractiveId) => {\n                      const firebaseStudentInteractive = firebaseStudentInteractives[firebaseStudentInteractiveId]\n                      const studentInteractive:StudentInteractive = {\n                        id: firebaseInteractiveId,\n                        name: interactive.name,\n                        url: firebaseStudentInteractive.url,\n                        createdAt: firebaseStudentInteractive.createdAt\n                      }\n                      studentInteractives.push(studentInteractive)\n\n                      activity.push({\n                        student: student,\n                        studentInteractive: studentInteractive\n                      })\n                    })\n                    studentInteractives.sort((a, b) => {return b.createdAt - a.createdAt })\n                  }\n                })\n              }\n              students.push(student)\n              studentMap[firebaseStudentId] = student\n            })\n          }\n\n          students.sort((a, b) => {return a.id < b.id ? -1 : (a.id > b.id ? 1 : 0)})\n          interactives.sort((a, b) => {return a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)})\n\n          students.forEach((student) => {\n            Object.keys(student.interactives).forEach((interactiveId) => {\n              const interactive = interactiveMap[interactiveId]\n              if (interactive) {\n                interactive.students[student.id] = student\n              }\n            })\n          })\n\n          if (firstLoad) {\n            window.addEventListener(\"popstate\", (e) => {\n              const state = e.state || {}\n              const student = state.student || null\n              const interactive = state.interactive || null\n\n              this.setState({studentInteractive: state.studentInteractive || null, student: state.student || null})\n            })\n\n            if (query.interactive && query.student) {\n              student = studentMap[query.student]\n              const interactiveKey = `interactive_${query.interactive}`\n              const interactive = interactiveMap[interactiveKey]\n              if (student && interactive) {\n                let studentInteractives = student.interactives[interactive.id]\n                if (studentInteractives) {\n                  if (query.createdAt) {\n                    createdAt = parseInt(query.createdAt, 10)\n                    studentInteractives = studentInteractives.filter((studentInteractive) => { return studentInteractive.createdAt === createdAt })\n                  }\n                  studentInteractive = studentInteractives[0] || null\n                }\n              }\n\n              if (!student || !studentInteractive) {\n                error = \"Sorry, the requested student interactive was not found!\"\n              }\n            }\n            firstLoad = false\n          }\n        }\n        else {\n          error = \"No interactives have been shared yet for this classroom\"\n        }\n\n        this.setState({\n          loading: false,\n          error: error,\n          interactives: interactives,\n          students: students,\n          activity: activity,\n          student: student || this.state.student,\n          studentInteractive: studentInteractive || this.state.studentInteractive,\n          firebaseData: firebaseData\n        })\n\n        if (studentNamesNotFound) {\n          this.classInfo.getStudentNames((err, names) => {\n            if (err) {\n              this.setState({error: err})\n              return\n            }\n            this.setState({\n              students: students.map((student) => {\n                if (names[student.id] !== undefined) {\n                  student.name = names[student.id]\n                }\n                return student\n              })\n            })\n          })\n        }\n      })\n    })\n\n\n  }\n\n  componentWillUnmount() {\n    if (this.classroomRef) {\n      this.classroomRef.off()\n    }\n  }\n\n  onClassroomClick() {\n    if (history.pushState && this.state.class) {\n      history.pushState({}, \"\", `${location.pathname}?class=${this.state.class}`)\n    }\n    this.setState({studentInteractive: null, student: null})\n  }\n\n  renderNav():JSX.Element|null {\n    if (this.state.class !== null) {\n      const showClassroomButton = (this.state.student !== null) && (this.state.studentInteractive !== null)\n      return <div className=\"nav\">\n               { this.state.className !== null ? <h3>{this.state.className}</h3> : null }\n               {showClassroomButton ? <button key=\"classroom\" className=\"button button-primary\" onClick={this.onClassroomClick.bind(this)}>View All</button> : null}\n             </div>\n    }\n    return null\n  }\n\n  getInteractiveHref(student:Student, studentInteractive:StudentInteractive):string {\n    return `${location.pathname}?class=${this.state.class}&interactive=${studentInteractive.id.split(\"_\")[1]}&student=${student.id}&createdAt=${studentInteractive.createdAt}`\n  }\n\n  setStudentInteractive(student:Student, studentInteractive:StudentInteractive) {\n    if (history.pushState) {\n      const href = this.getInteractiveHref(student, studentInteractive)\n      history.pushState({student: student, studentInteractive: studentInteractive}, \"\", href)\n    }\n\n    this.setState({\n      student: student,\n      studentInteractive: studentInteractive\n    })\n  }\n\n  renderPage():JSX.Element|null {\n    if (this.state.class !== null) {\n      if ((this.state.studentInteractive !== null) && (this.state.student !== null)) {\n        return <StudentPage\n                 studentInteractive={this.state.studentInteractive}\n                 student={this.state.student}\n                 setStudentInteractive={this.setStudentInteractive}\n                 getInteractiveHref={this.getInteractiveHref}\n                 classInfo={this.classInfo}\n                 />\n      }\n      return <ClassroomPage\n               class={this.state.class}\n               interactives={this.state.interactives}\n               students={this.state.students}\n               activity={this.state.activity}\n               setStudentInteractive={this.setStudentInteractive}\n               getInteractiveHref={this.getInteractiveHref}\n               classInfo={this.classInfo}\n               />\n    }\n    return null\n  }\n\n  render() {\n    return <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"twelve columns\">\n          <div className=\"header\">\n            <img src=\"../assets/img/concord.png\" /> Classroom Sharing\n          </div>\n          { this.renderNav() }\n          { !this.state.error && this.state.loading ? <div className=\"section loading\"><img src=\"../assets/img/loading.gif\" /> Loading...</div> : null }\n          { this.state.error ? <div className=\"section error\">{this.state.error}</div> : null }\n          { this.state.firebaseData ? this.renderPage() : null }\n        </div>\n      </div>\n    </div>\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/app.tsx","const superagent = require(\"superagent\")\nimport escapeFirebaseKey from \"./escape-firebase-key\"\n\nexport interface Student {\n  name: string\n  email: string\n}\n\nexport interface ClassInfoResultResponse {\n  response_type?: string\n  message?: string\n  name: string\n  private_class_hash: string\n  students: Array<Student>\n}\n\nexport interface AllClassInfo {\n  name: string\n  privateClassHash: string\n  studentNames: StudentNameCache\n}\n\ninterface StudentNameCache {\n  [key: string]: string\n}\n\nexport interface GetStudentName {\n  found: boolean\n  name: string\n}\n\ntype EndpointCallback = (err: string|null, results:AllClassInfo|null) => void\ntype GetStudentNameCallback = (err: string|null, names:StudentNameCache) => void\ntype GetClassInfoCallback = (err:string|null, info:AllClassInfo) => void\n\nexport class ClassInfo {\n  private name:string|null\n  private privateClassHash:string|null\n  private studentNames:StudentNameCache\n  private anonymousStudentNames:StudentNameCache\n  private nextAnonymousId:number\n  private callbacks:Array<EndpointCallback>\n\n  constructor (private classInfoUrl:string) {\n    this.name = null\n    this.studentNames = {}\n    this.anonymousStudentNames = {}\n    this.nextAnonymousId = 1\n    this.callbacks = []\n  }\n\n  getClassInfo(callback:GetClassInfoCallback) {\n    if (this.name && this.privateClassHash) {\n      callback(null, {\n        name: this.name,\n        privateClassHash: this.privateClassHash,\n        studentNames: this.studentNames\n      })\n    }\n    else {\n      this.callEndpoint(callback)\n    }\n  }\n\n  getStudentName(email:string):GetStudentName {\n    const key = escapeFirebaseKey(email)\n    if (this.studentNames[key] !== undefined) {\n      return {\n        found: true,\n        name: this.studentNames[key]\n      }\n    }\n    if (this.anonymousStudentNames[key] !== undefined) {\n      return {\n        found: true,\n        name: this.anonymousStudentNames[key]\n      }\n    }\n    this.anonymousStudentNames[key] = `Student ${this.nextAnonymousId++}`\n    return {\n      found: false,\n      name: this.anonymousStudentNames[key]\n    }\n  }\n\n  getStudentNames(callback:GetStudentNameCallback) {\n    this.callEndpoint((err, result) => {\n      callback(err, this.studentNames)\n    })\n  }\n\n  private callEndpoint(callback:EndpointCallback) {\n    // only allow one in-flight\n    this.callbacks.push(callback)\n    if (this.callbacks.length > 1) {\n      return\n    }\n\n    superagent\n      .get(this.classInfoUrl)\n      .withCredentials()\n      .set('Accept', 'application/json')\n      .end((err:any, res:any) => {\n        try {\n          const result:ClassInfoResultResponse = JSON.parse(res.text)\n          let allInfo:AllClassInfo|null = null\n          let error:string|null = null\n\n          if (result.response_type !== \"ERROR\") {\n            this.name = result.name\n            this.privateClassHash = result.private_class_hash\n\n            this.studentNames = {}\n            result.students.forEach((student) => {\n              this.studentNames[escapeFirebaseKey(student.email)] = student.name\n            })\n            allInfo = {\n              name: result.name,\n              privateClassHash: result.private_class_hash,\n              studentNames: this.studentNames\n            }\n          }\n          else if (result.message) {\n            error = result.message\n          }\n          this.callbacks.forEach((cb) => {\n            cb(error, allInfo)\n          })\n        }\n        catch (e) {}\n      });\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/class-info.ts","import * as React from \"react\";\nimport { Interactive, InteractiveMap, Student, StudentMap, StudentInteractive, Activity} from \"./types\"\nimport { ClassInfo } from \"./class-info\"\nimport { ago } from \"./ago\"\n\nexport interface ClassroomPageProps {\n  setStudentInteractive:(student:Student, interactive:StudentInteractive) => void\n  getInteractiveHref: (student:Student, studentInteractive:StudentInteractive) => string\n  class: string,\n  interactives: Array<Interactive>\n  students: Array<Student>\n  activity: Array<Activity>\n  classInfo: ClassInfo\n}\n\nexport type Tab = \"students\" | \"interactives\" | \"activity\"\n\nexport interface ClassroomPageState {\n  currentTab: Tab\n}\n\nexport type ClickHandler = (e:React.MouseEvent<HTMLAnchorElement>) => void\n\nexport class ClassroomPage extends React.Component<ClassroomPageProps, ClassroomPageState> {\n\n  constructor(props: ClassroomPageProps) {\n    super(props)\n\n    this.state = {\n      currentTab: \"students\"\n    }\n  }\n\n  createOnClick(href: string, student:Student, studentInteractive:StudentInteractive):ClickHandler {\n    return (e:React.MouseEvent<HTMLAnchorElement>) => {\n      e.preventDefault()\n      this.props.setStudentInteractive(student, studentInteractive)\n    }\n  }\n\n  renderStudent(student:Student):JSX.Element {\n    const interactives:Array<JSX.Element> = Object.keys(student.interactives).map<JSX.Element>((interactiveId) => {\n      const studentInteractives = student.interactives[interactiveId]\n      const studentInteractive = studentInteractives[0]\n      const key = `${student.id}-${interactiveId}`\n      const href = this.props.getInteractiveHref(student, studentInteractive)\n      const onClick = this.createOnClick(href, student, studentInteractive)\n      return <span key={key}><a href={href} onClick={onClick}>{studentInteractive.name}</a> ({studentInteractives.length})</span>\n    })\n\n    return <tr key={student.id}>\n             <td>{student.name}</td>\n             <td>{interactives}</td>\n           </tr>\n  }\n\n  renderInteractive(interactive:Interactive):JSX.Element {\n    const students:Array<JSX.Element> = Object.keys(interactive.students).map<JSX.Element>((studentId) => {\n      const student = interactive.students[studentId]\n      const studentInteractives = student.interactives[interactive.id]\n      const studentInteractive = studentInteractives[0]\n      const key = `${student.id}-${interactive.id}`\n      const href = this.props.getInteractiveHref(student, studentInteractive)\n      const onClick = this.createOnClick(href, student, studentInteractive)\n      return <span key={key}><a href={href} onClick={onClick}>{student.name}</a> ({studentInteractives.length})</span>\n    })\n\n    return <tr key={interactive.id}>\n             <td>{interactive.name}</td>\n             <td>{students}</td>\n           </tr>\n  }\n\n  renderStudents():JSX.Element {\n    if (this.props.students.length === 0) {\n      return <div>No students have started any interactives yet</div>\n    }\n    return <table className=\"u-full-width\">\n             <thead>\n               <tr>\n                 <th>Student</th>\n                 <th>Shared Interactives</th>\n               </tr>\n             </thead>\n             <tbody>\n               {this.props.students.map(this.renderStudent.bind(this))}\n             </tbody>\n           </table>\n  }\n\n  renderInteractives():JSX.Element {\n    if (this.props.interactives.length === 0) {\n      return <div>No interactives have been shared yet</div>\n    }\n    return <table className=\"u-full-width\">\n             <thead>\n               <tr>\n                 <th>Shared Interactive</th>\n                 <th>Students</th>\n               </tr>\n             </thead>\n             <tbody>\n               {this.props.interactives.map(this.renderInteractive.bind(this))}\n             </tbody>\n           </table>\n  }\n\n  renderActivity(activity:Activity, index:number):JSX.Element {\n    const href = this.props.getInteractiveHref(activity.student, activity.studentInteractive)\n    const onClick = this.createOnClick(href, activity.student, activity.studentInteractive)\n    return <div className=\"activity\" key={`${activity.student.id}-${activity.studentInteractive.id}-${index}`}>\n            {activity.student.name} shared\n            <a href={href} onClick={onClick}>{activity.studentInteractive.name}</a>\n            {ago(activity.studentInteractive.createdAt)}\n           </div>\n  }\n\n  renderActivityList():JSX.Element {\n    if (this.props.activity.length === 0) {\n      return <div>There has been no activity in this classroom yet</div>\n    }\n    return <div className=\"activity-list\">{this.props.activity.map(this.renderActivity.bind(this))}</div>\n  }\n\n  renderTabs() {\n    const selectTab = (tab:Tab) => {\n      return () => {\n        this.setState({currentTab: tab})\n      }\n    }\n    return <ul className=\"tab\">\n             <li className={this.state.currentTab === \"students\" ? \"active\" : \"\"}><span onClick={selectTab(\"students\")}>Students</span></li>\n             <li className={this.state.currentTab === \"interactives\" ? \"active\" : \"\"}><span onClick={selectTab(\"interactives\")}>Interactives</span></li>\n             <li className={this.state.currentTab === \"activity\" ? \"active\" : \"\"}><span onClick={selectTab(\"activity\")}>Activity</span></li>\n           </ul>\n  }\n\n  renderCurrentTab() {\n    switch (this.state.currentTab) {\n      case \"students\":\n        return this.renderStudents()\n      case \"interactives\":\n        return this.renderInteractives()\n      case \"activity\":\n        return this.renderActivityList()\n    }\n  }\n\n  render() {\n    return <div className=\"page\">\n      { this.renderTabs() }\n      { this.renderCurrentTab() }\n    </div>\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/classroom-page.tsx","import * as React from \"react\";\nimport { Interactive, StudentInteractive, InteractiveMap, Student} from \"./types\"\nimport { ClassInfo } from \"./class-info\"\nimport { ago } from \"./ago\"\n\nexport interface StudentPageProps {\n  setStudentInteractive:(student:Student, interactive:StudentInteractive) => void\n  getInteractiveHref: (student:Student, studentInteractive:StudentInteractive) => string\n  studentInteractive: StudentInteractive\n  student: Student\n  classInfo: ClassInfo\n}\n\nexport interface StudentPageState {\n  currentInteractiveCount: number\n}\n\nexport class StudentPage extends React.Component<StudentPageProps, StudentPageState> {\n\n  constructor(props: StudentPageProps) {\n    super(props)\n    this.versionSelected = this.versionSelected.bind(this)\n    this.state = {\n      currentInteractiveCount: 0\n    }\n  }\n\n  componentDidMount() {\n    // TODO: resize iframe\n  }\n\n  componentWillReceiveProps(nextProps:StudentPageProps) {\n    // check if the student added a version\n    if (nextProps.student.id === this.props.student.id) {\n      const nextInteractives = nextProps.student.interactives[this.props.studentInteractive.id]\n      const currentInteractives = this.props.student.interactives[this.props.studentInteractive.id]\n      if (nextInteractives.length > currentInteractives.length) {\n        debugger\n      }\n    }\n  }\n\n\n  versionSelected(e:React.SyntheticEvent<HTMLSelectElement>) {\n    e.preventDefault()\n    const value = parseInt(e.currentTarget.value, 10)\n    const interactives = this.props.student.interactives[this.props.studentInteractive.id]\n    const interactive = interactives.filter((interactive) => { return interactive.createdAt === value})[0]\n    if (interactive) {\n      this.props.setStudentInteractive(this.props.student, interactive)\n    }\n  }\n\n  renderDropdown() {\n    const interactives = this.props.student.interactives[this.props.studentInteractive.id]\n    if (interactives.length < 2) {\n      return null\n    }\n    const options = interactives.map<JSX.Element>((interactive, index) => {\n      const number = interactives.length - index\n      return <option key={index} value={interactive.createdAt}>Version #{number}, published {ago(interactive.createdAt)}</option>\n    })\n    return <div><select ref=\"createdAtSelect\" onChange={this.versionSelected} value={this.props.studentInteractive.createdAt}>{options}</select></div>\n  }\n\n  render() {\n    return <div className=\"page\">\n      <div className=\"page-header\">\n        <h4>{this.props.student.name}: {this.props.studentInteractive.name}</h4>\n        { this.renderDropdown() }\n      </div>\n      <iframe className=\"u-full-width\" src={this.props.studentInteractive.url}></iframe>\n    </div>\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/student-page.tsx"],"sourceRoot":""}