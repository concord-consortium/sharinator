{"version":3,"sources":["webpack:///./src/app.tsx","webpack:///./src/components/ago.ts","webpack:///./src/components/app.tsx","webpack:///./src/components/classroom-page.tsx","webpack:///./src/components/user-page.tsx"],"names":[],"mappings":";;;;;;;AAAA,mCAA+B;AAC/B,uCAAsC;AACtC,oCAAsC;AAEtC,QAAQ,CAAC,MAAM,CACX,oBAAC,SAAG,OAAG,EACP,QAAQ,CAAC,cAAc,CAAC,KAAK,CAAC,CACjC,CAAC;;;;;;;;;;ACPF,IAAM,QAAQ,GAAG;IAChB,EAAE,GAAG,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,cAAc,EAAE;IACpE,EAAE,GAAG,EAAE,QAAQ,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,aAAa,EAAE;IACpE,EAAE,GAAG,EAAE,SAAS,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,WAAW,EAAE;IACnE,EAAE,GAAG,EAAE,UAAU,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,WAAW,EAAE;IACtE,EAAE,GAAG,EAAE,WAAW,EAAE,KAAK,EAAE,UAAU,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,YAAY,EAAE;IAC1E,EAAE,GAAG,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,WAAW,EAAE;CACtE;AAED,aAAoB,SAAgB;IAClC,IAAM,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,SAAS,CAAC;IAC7C,EAAE,CAAC,CAAC,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC;QACjB,MAAM,CAAC,UAAU;IACnB,CAAC;IAED,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;QACzC,EAAE,CAAC,CAAC,IAAI,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YAC3B,IAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;YAChD,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,GAAM,GAAG,SAAI,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,UAAO,CAAC;QACzE,CAAC;IACH,CAAC;AACH,CAAC;AAZD,kBAYC;;;;;;;;;;;;;;;ACrBD,mCAA+B;AAE/B,0CAAsC;AACtC,+CAAgD;AAChD,2CAAwC;AAIxC,IAAM,SAAS,GAAG,mBAAO,CAAC,EAAY,CAAC;AACvC,IAAM,WAAW,GAAG,mBAAO,CAAC,EAAc,CAAC;AAkB3C;IAAyB,uBAAmC;IAI1D,aAAY,KAAe;QAA3B,YACE,kBAAM,KAAK,CAAC,SAiBb;QAfC,KAAI,CAAC,kBAAkB,GAAG,KAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAI,CAAC;QAC5D,KAAI,CAAC,kBAAkB,GAAG,KAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAI,CAAC;QAE5D,KAAI,CAAC,KAAK,GAAG;YACX,KAAK,EAAE,IAAI;YACX,SAAS,EAAE,IAAI;YACf,OAAO,EAAE,IAAI;YACb,KAAK,EAAE,IAAI;YACX,eAAe,EAAE,IAAI;YACrB,IAAI,EAAE,IAAI;YACV,YAAY,EAAE,EAAE;YAChB,KAAK,EAAE,EAAE;YACT,QAAQ,EAAE,EAAE;YACZ,YAAY,EAAE,IAAI;SACnB;;IACH,CAAC;IAED,gCAAkB,GAAlB;QAAA,iBA4KC;QA3KC,IAAM,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC;QAChD,IAAI,SAAS,GAAG,IAAI;QAEpB,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;YACjB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAC,KAAK,EAAE,+BAA+B,EAAC,CAAC;QAChE,CAAC;QACD,IAAI,CAAC,QAAQ,CAAC,EAAC,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,CAAC,KAAK,EAAC,CAAC;QAElD,IAAI,CAAC,SAAS,GAAG,IAAI,sBAAS,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QAC7D,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,UAAC,GAAG,EAAE,IAAI;YACpC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBACR,KAAI,CAAC,QAAQ,CAAC;oBACZ,OAAO,EAAE,KAAK;oBACd,KAAK,EAAE,GAAG;iBACX,CAAC;gBACF,MAAM;YACR,CAAC;YAED,KAAI,CAAC,QAAQ,CAAC,EAAC,SAAS,EAAE,IAAI,CAAC,IAAI,EAAC,CAAC;YAErC,sBAAsB;YACtB,KAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,aAAW,IAAI,CAAC,SAAW,CAAC;YACxE,KAAI,CAAC,YAAY,CAAC,EAAE,CAAC,OAAO,EAAE,UAAC,QAAY;gBACzC,IAAM,YAAY,GAAsB,EAAE;gBAC1C,IAAM,KAAK,GAAe,EAAE;gBAC5B,IAAM,QAAQ,GAAmB,EAAE;gBACnC,IAAM,YAAY,GAAgB,QAAQ,CAAC,GAAG,EAAE;gBAChD,IAAI,IAAI,GAAa,IAAI;gBACzB,IAAI,eAAe,GAAwB,IAAI;gBAC/C,IAAI,KAAK,GAAe,IAAI;gBAC5B,IAAI,SAAS,GAAe,IAAI;gBAChC,IAAM,cAAc,GAAkB,EAAE;gBACxC,IAAM,OAAO,GAAW,EAAE;gBAC1B,IAAI,iBAAiB,GAAW,KAAK;gBAErC,EAAE,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;oBACjB,EAAE,CAAC,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC,CAAC;wBAC9B,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,UAAC,qBAAqB;4BACnE,IAAM,mBAAmB,GAAuB,YAAY,CAAC,YAAY,CAAC,qBAAqB,CAAC;4BAChG,IAAM,WAAW,GAAe;gCAC9B,EAAE,EAAE,qBAAqB;gCACzB,IAAI,EAAE,mBAAmB,CAAC,IAAI;gCAC9B,KAAK,EAAE,EAAE;6BACV;4BACD,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC;4BAC9B,cAAc,CAAC,qBAAqB,CAAC,GAAG,WAAW;wBACrD,CAAC,CAAC;oBACJ,CAAC;oBAED,EAAE,CAAC,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC;wBACvB,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,UAAC,cAAc;4BACrD,IAAM,YAAY,GAAgB,YAAY,CAAC,KAAK,CAAC,cAAc,CAAC;4BACpE,IAAM,QAAQ,GAAG,KAAI,CAAC,SAAS,CAAC,WAAW,CAAC,cAAc,CAAC;4BAC3D,IAAM,IAAI,GAAQ;gCAChB,EAAE,EAAE,cAAc;gCAClB,IAAI,EAAE,QAAQ,CAAC,IAAI;gCACnB,YAAY,EAAE,EAAE;6BACjB;4BACD,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;gCACpB,iBAAiB,GAAG,IAAI;4BAC1B,CAAC;4BAED,EAAE,CAAC,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC,CAAC;gCAC9B,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,UAAC,qBAAqB;oCACnE,IAAM,WAAW,GAAG,cAAc,CAAC,qBAAqB,CAAC;oCACzD,EAAE,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;wCAChB,IAAM,kBAAgB,GAAG,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,IAAI,EAAE;wCAClH,IAAM,0BAAwB,GAAG,YAAY,CAAC,YAAY,CAAC,qBAAqB,CAAC;wCACjF,MAAM,CAAC,IAAI,CAAC,0BAAwB,CAAC,CAAC,OAAO,CAAC,UAAC,yBAAyB;4CACtE,IAAM,uBAAuB,GAAG,0BAAwB,CAAC,yBAAyB,CAAC;4CACnF,IAAM,eAAe,GAAmB;gDACtC,EAAE,EAAE,qBAAqB;gDACzB,IAAI,EAAE,WAAW,CAAC,IAAI;gDACtB,GAAG,EAAE,uBAAuB,CAAC,WAAW;gDACxC,SAAS,EAAE,uBAAuB,CAAC,SAAS;6CAC7C;4CACD,kBAAgB,CAAC,IAAI,CAAC,eAAe,CAAC;4CAEtC,QAAQ,CAAC,IAAI,CAAC;gDACZ,IAAI,EAAE,IAAI;gDACV,eAAe,EAAE,eAAe;6CACjC,CAAC;wCACJ,CAAC,CAAC;wCACF,kBAAgB,CAAC,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC,IAAM,MAAM,CAAC,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAC,CAAC,CAAC;oCACtE,CAAC;gCACH,CAAC,CAAC;4BACJ,CAAC;4BACD,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;4BAChB,OAAO,CAAC,cAAc,CAAC,GAAG,IAAI;wBAChC,CAAC,CAAC;oBACJ,CAAC;oBAED,KAAK,CAAC,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC,IAAM,MAAM,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,GAAC,CAAC;oBACvE,YAAY,CAAC,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC,IAAM,MAAM,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,GAAC,CAAC;oBACtF,QAAQ,CAAC,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC,IAAM,MAAM,CAAC,CAAC,CAAC,eAAe,CAAC,SAAS,GAAG,CAAC,CAAC,eAAe,CAAC,SAAS,GAAC,CAAC;oBAE3F,KAAK,CAAC,OAAO,CAAC,UAAC,IAAI;wBACjB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,UAAC,aAAa;4BACnD,IAAM,WAAW,GAAG,cAAc,CAAC,aAAa,CAAC;4BACjD,EAAE,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gCAChB,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI;4BACnC,CAAC;wBACH,CAAC,CAAC;oBACJ,CAAC,CAAC;oBAEF,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;wBACd,MAAM,CAAC,gBAAgB,CAAC,UAAU,EAAE,UAAC,CAAC;4BACpC,IAAM,KAAK,GAAG,CAAC,CAAC,KAAK,IAAI,EAAE;4BAC3B,IAAM,IAAI,GAAG,KAAK,CAAC,IAAI,IAAI,IAAI;4BAC/B,IAAM,WAAW,GAAG,KAAK,CAAC,WAAW,IAAI,IAAI;4BAE7C,KAAI,CAAC,QAAQ,CAAC,EAAC,eAAe,EAAE,KAAK,CAAC,eAAe,IAAI,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,IAAI,IAAI,IAAI,EAAC,CAAC;wBAC3F,CAAC,CAAC;wBAEF,EAAE,CAAC,CAAC,KAAK,CAAC,WAAW,IAAI,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;4BACpC,IAAI,GAAG,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;4BAC1B,IAAM,cAAc,GAAG,iBAAe,KAAK,CAAC,WAAa;4BACzD,IAAM,WAAW,GAAG,cAAc,CAAC,cAAc,CAAC;4BAClD,EAAE,CAAC,CAAC,IAAI,IAAI,WAAW,CAAC,CAAC,CAAC;gCACxB,IAAI,gBAAgB,GAAG,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,EAAE,CAAC;gCACxD,EAAE,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC;oCACrB,EAAE,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;wCACpB,SAAS,GAAG,QAAQ,CAAC,KAAK,CAAC,SAAS,EAAE,EAAE,CAAC;wCACzC,gBAAgB,GAAG,gBAAgB,CAAC,MAAM,CAAC,UAAC,eAAe,IAAO,MAAM,CAAC,eAAe,CAAC,SAAS,KAAK,SAAS,EAAC,CAAC,CAAC;oCACrH,CAAC;oCACD,eAAe,GAAG,gBAAgB,CAAC,CAAC,CAAC,IAAI,IAAI;gCAC/C,CAAC;4BACH,CAAC;4BAED,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;gCAC9B,KAAK,GAAG,sDAAsD;4BAChE,CAAC;wBACH,CAAC;wBACD,SAAS,GAAG,KAAK;oBACnB,CAAC;gBACH,CAAC;gBACD,IAAI,CAAC,CAAC;oBACJ,KAAK,GAAG,yDAAyD;gBACnE,CAAC;gBAED,KAAI,CAAC,QAAQ,CAAC;oBACZ,OAAO,EAAE,KAAK;oBACd,KAAK,EAAE,KAAK;oBACZ,YAAY,EAAE,YAAY;oBAC1B,KAAK,EAAE,KAAK;oBACZ,QAAQ,EAAE,QAAQ;oBAClB,IAAI,EAAE,IAAI,IAAI,KAAI,CAAC,KAAK,CAAC,IAAI;oBAC7B,eAAe,EAAE,eAAe,IAAI,KAAI,CAAC,KAAK,CAAC,eAAe;oBAC9D,YAAY,EAAE,YAAY;iBAC3B,CAAC;gBAEF,EAAE,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC;oBACtB,KAAI,CAAC,SAAS,CAAC,eAAe,CAAC,UAAC,GAAG,EAAE,KAAK;wBACxC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;4BACR,KAAI,CAAC,QAAQ,CAAC,EAAC,KAAK,EAAE,GAAG,EAAC,CAAC;4BAC3B,MAAM;wBACR,CAAC;wBACD,KAAI,CAAC,QAAQ,CAAC;4BACZ,KAAK,EAAE,KAAK,CAAC,GAAG,CAAC,UAAC,IAAI;gCACpB,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,SAAS,CAAC,CAAC,CAAC;oCACjC,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC;gCAC5B,CAAC;gCACD,MAAM,CAAC,IAAI;4BACb,CAAC,CAAC;yBACH,CAAC;oBACJ,CAAC,CAAC;gBACJ,CAAC;YACH,CAAC,CAAC;QACJ,CAAC,CAAC;IAGJ,CAAC;IAED,kCAAoB,GAApB;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;YACtB,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE;QACzB,CAAC;IACH,CAAC;IAED,8BAAgB,GAAhB;QACE,EAAE,CAAC,CAAC,OAAO,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;YAC1C,OAAO,CAAC,SAAS,CAAC,EAAE,EAAE,EAAE,EAAK,QAAQ,CAAC,QAAQ,eAAU,IAAI,CAAC,KAAK,CAAC,KAAO,CAAC;QAC7E,CAAC;QACD,IAAI,CAAC,QAAQ,CAAC,EAAC,eAAe,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAC,CAAC;IACpD,CAAC;IAED,uBAAS,GAAT;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,KAAK,IAAI,CAAC,CAAC,CAAC;YAC9B,IAAM,mBAAmB,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,KAAK,IAAI,CAAC;YAC/F,MAAM,CAAC,6BAAK,SAAS,EAAC,KAAK;gBAChB,IAAI,CAAC,KAAK,CAAC,SAAS,KAAK,IAAI,GAAG,gCAAK,IAAI,CAAC,KAAK,CAAC,SAAS,CAAM,GAAG,IAAI;gBACvE,mBAAmB,GAAG,gCAAQ,GAAG,EAAC,WAAW,EAAC,SAAS,EAAC,uBAAuB,EAAC,OAAO,EAAE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,eAAmB,GAAG,IAAI,CAChJ;QACf,CAAC;QACD,MAAM,CAAC,IAAI;IACb,CAAC;IAED,gCAAkB,GAAlB,UAAmB,IAAS,EAAE,eAA+B;QAC3D,MAAM,CAAI,QAAQ,CAAC,QAAQ,eAAU,IAAI,CAAC,KAAK,CAAC,KAAK,qBAAgB,eAAe,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,cAAS,IAAI,CAAC,EAAE,mBAAc,eAAe,CAAC,SAAW;IAChK,CAAC;IAED,gCAAkB,GAAlB,UAAmB,IAAS,EAAE,eAA+B;QAC3D,EAAE,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC;YACtB,IAAM,IAAI,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,EAAE,eAAe,CAAC;YAC3D,OAAO,CAAC,SAAS,CAAC,EAAC,IAAI,EAAE,IAAI,EAAE,eAAe,EAAE,eAAe,EAAC,EAAE,EAAE,EAAE,IAAI,CAAC;QAC7E,CAAC;QAED,IAAI,CAAC,QAAQ,CAAC;YACZ,IAAI,EAAE,IAAI;YACV,eAAe,EAAE,eAAe;SACjC,CAAC;IACJ,CAAC;IAED,wBAAU,GAAV;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,KAAK,IAAI,CAAC,CAAC,CAAC;YAC9B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,KAAK,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC;gBACxE,MAAM,CAAC,oBAAC,oBAAQ,IACP,eAAe,EAAE,IAAI,CAAC,KAAK,CAAC,eAAe,EAC3C,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,EACrB,kBAAkB,EAAE,IAAI,CAAC,kBAAkB,EAC3C,kBAAkB,EAAE,IAAI,CAAC,kBAAkB,EAC3C,SAAS,EAAE,IAAI,CAAC,SAAS,GACvB;YACb,CAAC;YACD,MAAM,CAAC,oBAAC,8BAAa,IACZ,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,EACvB,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY,EACrC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,EACvB,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,EAC7B,kBAAkB,EAAE,IAAI,CAAC,kBAAkB,EAC3C,kBAAkB,EAAE,IAAI,CAAC,kBAAkB,EAC3C,SAAS,EAAE,IAAI,CAAC,SAAS,GACvB;QACb,CAAC;QACD,MAAM,CAAC,IAAI;IACb,CAAC;IAED,oBAAM,GAAN;QACE,MAAM,CAAC,6BAAK,SAAS,EAAC,WAAW;YAC/B,6BAAK,SAAS,EAAC,KAAK;gBAClB,6BAAK,SAAS,EAAC,gBAAgB;oBAC7B,6BAAK,SAAS,EAAC,QAAQ;wBACrB,6BAAK,GAAG,EAAC,2BAA2B,GAAG;6CACnC;oBACJ,IAAI,CAAC,SAAS,EAAE;oBAChB,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,6BAAK,SAAS,EAAC,iBAAiB;wBAAC,6BAAK,GAAG,EAAC,2BAA2B,GAAG;sCAAiB,GAAG,IAAI;oBAC1I,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,6BAAK,SAAS,EAAC,eAAe,IAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAO,GAAG,IAAI;oBACjF,IAAI,CAAC,KAAK,CAAC,YAAY,GAAG,IAAI,CAAC,UAAU,EAAE,GAAG,IAAI,CAChD,CACF,CACF;IACR,CAAC;IACH,UAAC;AAAD,CAAC,CArRwB,KAAK,CAAC,SAAS,GAqRvC;AArRY,kBAAG;;;;;;;;;;;;;;;AC3BhB,mCAA+B;AAG/B,oCAA2B;AAoB3B;IAAmC,iCAAuD;IAExF,uBAAY,KAAyB;QAArC,YACE,kBAAM,KAAK,CAAC,SAKb;QAHC,KAAI,CAAC,KAAK,GAAG;YACX,UAAU,EAAE,OAAO;SACpB;;IACH,CAAC;IAED,qCAAa,GAAb,UAAc,IAAY,EAAE,IAAS,EAAE,eAA+B;QAAtE,iBAKC;QAJC,MAAM,CAAC,UAAC,CAAqC;YAC3C,CAAC,CAAC,cAAc,EAAE;YAClB,KAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,IAAI,EAAE,eAAe,CAAC;QACtD,CAAC;IACH,CAAC;IAED,kCAAU,GAAV,UAAW,IAAS;QAApB,iBAcC;QAbC,IAAM,YAAY,GAAsB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,GAAG,CAAc,UAAC,aAAa;YACpG,IAAM,gBAAgB,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC;YACzD,IAAM,eAAe,GAAG,gBAAgB,CAAC,CAAC,CAAC;YAC3C,IAAM,GAAG,GAAM,IAAI,CAAC,EAAE,SAAI,aAAe;YACzC,IAAM,IAAI,GAAG,KAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,IAAI,EAAE,eAAe,CAAC;YACjE,IAAM,OAAO,GAAG,KAAI,CAAC,aAAa,CAAC,IAAI,EAAE,IAAI,EAAE,eAAe,CAAC;YAC/D,MAAM,CAAC,8BAAM,GAAG,EAAE,GAAG;gBAAE,2BAAG,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,IAAG,eAAe,CAAC,IAAI,CAAK;;gBAAG,gBAAgB,CAAC,MAAM;oBAAS;QACvH,CAAC,CAAC;QAEF,MAAM,CAAC,4BAAI,GAAG,EAAE,IAAI,CAAC,EAAE;YACd,gCAAK,IAAI,CAAC,IAAI,CAAM;YACpB,gCAAK,YAAY,CAAM,CACpB;IACd,CAAC;IAED,yCAAiB,GAAjB,UAAkB,WAAuB;QAAzC,iBAeC;QAdC,IAAM,KAAK,GAAsB,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,GAAG,CAAc,UAAC,MAAM;YACtF,IAAM,IAAI,GAAG,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC;YACtC,IAAM,gBAAgB,GAAG,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,EAAE,CAAC;YAC1D,IAAM,eAAe,GAAG,gBAAgB,CAAC,CAAC,CAAC;YAC3C,IAAM,GAAG,GAAM,IAAI,CAAC,EAAE,SAAI,WAAW,CAAC,EAAI;YAC1C,IAAM,IAAI,GAAG,KAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,IAAI,EAAE,eAAe,CAAC;YACjE,IAAM,OAAO,GAAG,KAAI,CAAC,aAAa,CAAC,IAAI,EAAE,IAAI,EAAE,eAAe,CAAC;YAC/D,MAAM,CAAC,8BAAM,GAAG,EAAE,GAAG;gBAAE,2BAAG,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,IAAG,IAAI,CAAC,IAAI,CAAK;;gBAAG,gBAAgB,CAAC,MAAM;oBAAS;QAC5G,CAAC,CAAC;QAEF,MAAM,CAAC,4BAAI,GAAG,EAAE,WAAW,CAAC,EAAE;YACrB,gCAAK,WAAW,CAAC,IAAI,CAAM;YAC3B,gCAAK,KAAK,CAAM,CACb;IACd,CAAC;IAED,mCAAW,GAAX;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;YAClC,MAAM,CAAC,+FAAsE;QAC/E,CAAC;QACD,MAAM,CAAC,+BAAO,SAAS,EAAC,cAAc;YAC7B;gBACE;oBACE,uCAAa;oBACb,yDAA+B,CAC5B,CACC;YACR,mCACG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAC3C,CACF;IACjB,CAAC;IAED,0CAAkB,GAAlB;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;YACzC,MAAM,CAAC,2EAAkD;QAC3D,CAAC;QACD,MAAM,CAAC,+BAAO,SAAS,EAAC,cAAc;YAC7B;gBACE;oBACE,wDAA8B;oBAC9B,wCAAc,CACX,CACC;YACR,mCACG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CACzD,CACF;IACjB,CAAC;IAED,sCAAc,GAAd,UAAe,QAAiB,EAAE,KAAY;QAC5C,IAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,EAAE,QAAQ,CAAC,eAAe,CAAC;QACnF,IAAM,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,QAAQ,CAAC,IAAI,EAAE,QAAQ,CAAC,eAAe,CAAC;QACjF,MAAM,CAAC,6BAAK,SAAS,EAAC,UAAU,EAAC,GAAG,EAAK,QAAQ,CAAC,IAAI,CAAC,EAAE,SAAI,QAAQ,CAAC,eAAe,CAAC,EAAE,SAAI,KAAO;YAC1F,QAAQ,CAAC,IAAI,CAAC,IAAI;;YACnB,2BAAG,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,IAAG,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAK;YACnE,SAAG,CAAC,QAAQ,CAAC,eAAe,CAAC,SAAS,CAAC,CACnC;IACf,CAAC;IAED,0CAAkB,GAAlB;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;YACrC,MAAM,CAAC,oFAA2D;QACpE,CAAC;QACD,MAAM,CAAC,6BAAK,SAAS,EAAC,eAAe,IAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAO;IACvG,CAAC;IAED,kCAAU,GAAV;QAAA,iBAWC;QAVC,IAAM,SAAS,GAAG,UAAC,GAAO;YACxB,MAAM,CAAC;gBACL,KAAI,CAAC,QAAQ,CAAC,EAAC,UAAU,EAAE,GAAG,EAAC,CAAC;YAClC,CAAC;QACH,CAAC;QACD,MAAM,CAAC,4BAAI,SAAS,EAAC,KAAK;YACjB,4BAAI,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,KAAK,OAAO,GAAG,QAAQ,GAAG,EAAE;gBAAE,8BAAM,OAAO,EAAE,SAAS,CAAC,OAAO,CAAC,YAAc,CAAK;YACtH,4BAAI,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,KAAK,cAAc,GAAG,QAAQ,GAAG,EAAE;gBAAE,8BAAM,OAAO,EAAE,SAAS,CAAC,cAAc,CAAC,mBAAqB,CAAK;YAC3I,4BAAI,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,KAAK,UAAU,GAAG,QAAQ,GAAG,EAAE;gBAAE,8BAAM,OAAO,EAAE,SAAS,CAAC,UAAU,CAAC,eAAiB,CAAK,CAC5H;IACd,CAAC;IAED,wCAAgB,GAAhB;QACE,MAAM,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC;YAC9B,KAAK,OAAO;gBACV,MAAM,CAAC,IAAI,CAAC,WAAW,EAAE;YAC3B,KAAK,cAAc;gBACjB,MAAM,CAAC,IAAI,CAAC,kBAAkB,EAAE;YAClC,KAAK,UAAU;gBACb,MAAM,CAAC,IAAI,CAAC,kBAAkB,EAAE;QACpC,CAAC;IACH,CAAC;IAED,8BAAM,GAAN;QACE,MAAM,CAAC,6BAAK,SAAS,EAAC,MAAM;YACxB,IAAI,CAAC,UAAU,EAAE;YACjB,IAAI,CAAC,gBAAgB,EAAE,CACrB;IACR,CAAC;IACH,oBAAC;AAAD,CAAC,CAnIkC,KAAK,CAAC,SAAS,GAmIjD;AAnIY,sCAAa;;;;;;;;;;;;;;;ACvB1B,mCAA8B;AAG9B,oCAA2B;AAe3B;IAA8B,4BAA6C;IAEzE,kBAAY,KAAoB;QAAhC,YACE,kBAAM,KAAK,CAAC,SAKb;QAJC,KAAI,CAAC,eAAe,GAAG,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAI,CAAC;QACtD,KAAI,CAAC,KAAK,GAAG;YACX,uBAAuB,EAAE,CAAC;SAC3B;;IACH,CAAC;IAED,oCAAiB,GAAjB;QACE,sBAAsB;IACxB,CAAC;IAED,4CAAyB,GAAzB,UAA0B,SAAuB;QAC/C,uCAAuC;QACvC,EAAE,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,KAAK,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;YAC7C,IAAM,gBAAgB,GAAG,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,EAAE,CAAC;YACnF,IAAM,mBAAmB,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,EAAE,CAAC;YACvF,EAAE,CAAC,CAAC,gBAAgB,CAAC,MAAM,GAAG,mBAAmB,CAAC,MAAM,CAAC,CAAC,CAAC;YAE3D,CAAC;QACH,CAAC;IACH,CAAC;IAGD,kCAAe,GAAf,UAAgB,CAAyC;QACvD,CAAC,CAAC,cAAc,EAAE;QAClB,IAAM,KAAK,GAAG,QAAQ,CAAC,CAAC,CAAC,aAAa,CAAC,KAAK,EAAE,EAAE,CAAC;QACjD,IAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,EAAE,CAAC;QAChF,IAAM,WAAW,GAAG,YAAY,CAAC,MAAM,CAAC,UAAC,WAAW,IAAO,MAAM,CAAC,WAAW,CAAC,SAAS,KAAK,KAAK,GAAC,CAAC,CAAC,CAAC,CAAC;QACtG,EAAE,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;YAChB,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,WAAW,CAAC;QAC7D,CAAC;IACH,CAAC;IAED,iCAAc,GAAd;QACE,IAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,EAAE,CAAC;QAChF,EAAE,CAAC,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;YAC5B,MAAM,CAAC,IAAI;QACb,CAAC;QACD,IAAM,OAAO,GAAG,YAAY,CAAC,GAAG,CAAc,UAAC,WAAW,EAAE,KAAK;YAC/D,IAAM,MAAM,GAAG,YAAY,CAAC,MAAM,GAAG,KAAK;YAC1C,MAAM,CAAC,gCAAQ,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,WAAW,CAAC,SAAS;;gBAAY,MAAM;;gBAAc,SAAG,CAAC,WAAW,CAAC,SAAS,CAAC,CAAU;QAC7H,CAAC,CAAC;QACF,MAAM,CAAC;YAAK,gCAAQ,GAAG,EAAC,iBAAiB,EAAC,QAAQ,EAAE,IAAI,CAAC,eAAe,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,SAAS,IAAG,OAAO,CAAU,CAAM;IACjJ,CAAC;IAED,yBAAM,GAAN;QACE,MAAM,CAAC,6BAAK,SAAS,EAAC,MAAM;YAC1B,6BAAK,SAAS,EAAC,aAAa;gBAC1B;oBAAK,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI;;oBAAI,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,IAAI,CAAM;gBAChE,IAAI,CAAC,cAAc,EAAE,CACnB;YACN,6BAAK,EAAE,EAAC,QAAQ,EAAC,SAAS,EAAC,cAAc;gBACvC,gCAAQ,SAAS,EAAC,cAAc,EAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,GAAG,GAAW,CAC3E,CACF;IACR,CAAC;IACH,eAAC;AAAD,CAAC,CA3D6B,KAAK,CAAC,SAAS,GA2D5C;AA3DY,4BAAQ","file":"app.js","sourcesContent":["import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { App } from \"./components/app\"\n\nReactDOM.render(\n    <App />,\n    document.getElementById(\"app\")\n);\n\n\n// WEBPACK FOOTER //\n// ./src/app.tsx","const agoUnits = [\n\t{ max: 2760000, value: 60000, name: 'minute', prev: 'a minute ago' }, // max: 46 minutes\n\t{ max: 72000000, value: 3600000, name: 'hour', prev: 'an hour ago' }, // max: 20 hours\n\t{ max: 518400000, value: 86400000, name: 'day', prev: 'yesterday' }, // max: 6 days\n\t{ max: 2419200000, value: 604800000, name: 'week', prev: 'last week' }, // max: 28 days\n\t{ max: 28512000000, value: 2592000000, name: 'month', prev: 'last month' }, // max: 11 months\n\t{ max: Infinity, value: 31536000000, name: 'year', prev: 'last year' }\n]\n\nexport function ago(timestamp:number) {\n  const diff = Math.abs(Date.now() - timestamp)\n  if (diff < 60000) { // less than a minute\n    return 'just now'\n  }\n\n  for (var i = 0; i < agoUnits.length; i++) {\n    if (diff < agoUnits[i].max) {\n      const val = Math.floor(diff / agoUnits[i].value)\n      return val <= 1 ? agoUnits[i].prev : `${val} ${agoUnits[i].name}s ago`;\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/ago.ts","import * as React from \"react\";\nimport { Interactive, InteractiveMap, User, UserMap, UserInteractive, FirebaseInteractive, FirebaseUser, FirebaseData, FirebaseUserInteractive, Activity} from \"./types\"\nimport { UserPage } from \"./user-page\"\nimport { ClassroomPage } from \"./classroom-page\"\nimport { ClassInfo } from \"./class-info\"\n\ndeclare var firebase: any;  // @types/firebase is not Firebase 3\n\nconst base64url = require(\"base64-url\")\nconst queryString = require(\"query-string\")\n\nexport interface AppProps {\n}\n\nexport interface AppState {\n  class: string|null\n  className: string|null\n  loading: boolean\n  error: string|null\n  userInteractive: UserInteractive|null\n  user: User|null\n  interactives: Array<Interactive>\n  users: Array<User>,\n  activity: Array<Activity>\n  firebaseData: any|null\n}\n\nexport class App extends React.Component<AppProps, AppState> {\n  private classroomRef:any\n  private classInfo:ClassInfo\n\n  constructor(props: AppProps) {\n    super(props)\n\n    this.setUserInteractive = this.setUserInteractive.bind(this)\n    this.getInteractiveHref = this.getInteractiveHref.bind(this)\n\n    this.state = {\n      class: null,\n      className: null,\n      loading: true,\n      error: null,\n      userInteractive: null,\n      user: null,\n      interactives: [],\n      users: [],\n      activity: [],\n      firebaseData: null\n    }\n  }\n\n  componentWillMount() {\n    const query = queryString.parse(location.search)\n    let firstLoad = true\n\n    if (!query.class) {\n      return this.setState({error: \"Missing class in query string\"})\n    }\n    this.setState({loading: true, class: query.class})\n\n    this.classInfo = new ClassInfo(base64url.decode(query.class))\n    this.classInfo.getClassInfo((err, info) => {\n      if (err) {\n        this.setState({\n          loading: false,\n          error: err\n        })\n        return\n      }\n\n      this.setState({className: info.name})\n\n      // connect to firebase\n      this.classroomRef = firebase.database().ref(`classes/${info.classHash}`)\n      this.classroomRef.on(\"value\", (snapshot:any) => {\n        const interactives:Array<Interactive> = []\n        const users:Array<User> = []\n        const activity:Array<Activity> = []\n        const firebaseData:FirebaseData = snapshot.val()\n        let user:User|null = null\n        let userInteractive:UserInteractive|null = null\n        let error:string|null = null\n        let createdAt:number|null = null\n        const interactiveMap:InteractiveMap = {}\n        const userMap:UserMap = {}\n        let userNamesNotFound:boolean = false\n\n        if (firebaseData) {\n          if (firebaseData.interactives) {\n            Object.keys(firebaseData.interactives).forEach((firebaseInteractiveId) => {\n              const firebaseInteractive:FirebaseInteractive = firebaseData.interactives[firebaseInteractiveId]\n              const interactive:Interactive = {\n                id: firebaseInteractiveId,\n                name: firebaseInteractive.name,\n                users: {}\n              }\n              interactives.push(interactive)\n              interactiveMap[firebaseInteractiveId] = interactive\n            })\n          }\n\n          if (firebaseData.users) {\n            Object.keys(firebaseData.users).forEach((firebaseUserId) => {\n              const firebaseUser:FirebaseUser = firebaseData.users[firebaseUserId]\n              const userName = this.classInfo.getUserName(firebaseUserId)\n              const user:User = {\n                id: firebaseUserId,\n                name: userName.name,\n                interactives: {}\n              }\n              if (!userName.found) {\n                userNamesNotFound = true\n              }\n\n              if (firebaseUser.interactives) {\n                Object.keys(firebaseUser.interactives).forEach((firebaseInteractiveId) => {\n                  const interactive = interactiveMap[firebaseInteractiveId]\n                  if (interactive) {\n                    const userInteractives = user.interactives[firebaseInteractiveId] = user.interactives[firebaseInteractiveId] || []\n                    const firebaseUserInteractives = firebaseUser.interactives[firebaseInteractiveId]\n                    Object.keys(firebaseUserInteractives).forEach((firebaseUserInteractiveId) => {\n                      const firebaseUserInteractive = firebaseUserInteractives[firebaseUserInteractiveId]\n                      const userInteractive:UserInteractive = {\n                        id: firebaseInteractiveId,\n                        name: interactive.name,\n                        url: firebaseUserInteractive.documentUrl,\n                        createdAt: firebaseUserInteractive.createdAt\n                      }\n                      userInteractives.push(userInteractive)\n\n                      activity.push({\n                        user: user,\n                        userInteractive: userInteractive\n                      })\n                    })\n                    userInteractives.sort((a, b) => {return b.createdAt - a.createdAt })\n                  }\n                })\n              }\n              users.push(user)\n              userMap[firebaseUserId] = user\n            })\n          }\n\n          users.sort((a, b) => {return a.id < b.id ? -1 : (a.id > b.id ? 1 : 0)})\n          interactives.sort((a, b) => {return a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)})\n          activity.sort((a, b) => {return b.userInteractive.createdAt - a.userInteractive.createdAt})\n\n          users.forEach((user) => {\n            Object.keys(user.interactives).forEach((interactiveId) => {\n              const interactive = interactiveMap[interactiveId]\n              if (interactive) {\n                interactive.users[user.id] = user\n              }\n            })\n          })\n\n          if (firstLoad) {\n            window.addEventListener(\"popstate\", (e) => {\n              const state = e.state || {}\n              const user = state.user || null\n              const interactive = state.interactive || null\n\n              this.setState({userInteractive: state.userInteractive || null, user: state.user || null})\n            })\n\n            if (query.interactive && query.user) {\n              user = userMap[query.user]\n              const interactiveKey = `interactive_${query.interactive}`\n              const interactive = interactiveMap[interactiveKey]\n              if (user && interactive) {\n                let userInteractives = user.interactives[interactive.id]\n                if (userInteractives) {\n                  if (query.createdAt) {\n                    createdAt = parseInt(query.createdAt, 10)\n                    userInteractives = userInteractives.filter((userInteractive) => { return userInteractive.createdAt === createdAt })\n                  }\n                  userInteractive = userInteractives[0] || null\n                }\n              }\n\n              if (!user || !userInteractive) {\n                error = \"Sorry, the requested user interactive was not found!\"\n              }\n            }\n            firstLoad = false\n          }\n        }\n        else {\n          error = \"No interactives have been shared yet for this classroom\"\n        }\n\n        this.setState({\n          loading: false,\n          error: error,\n          interactives: interactives,\n          users: users,\n          activity: activity,\n          user: user || this.state.user,\n          userInteractive: userInteractive || this.state.userInteractive,\n          firebaseData: firebaseData\n        })\n\n        if (userNamesNotFound) {\n          this.classInfo.getStudentNames((err, names) => {\n            if (err) {\n              this.setState({error: err})\n              return\n            }\n            this.setState({\n              users: users.map((user) => {\n                if (names[user.id] !== undefined) {\n                  user.name = names[user.id]\n                }\n                return user\n              })\n            })\n          })\n        }\n      })\n    })\n\n\n  }\n\n  componentWillUnmount() {\n    if (this.classroomRef) {\n      this.classroomRef.off()\n    }\n  }\n\n  onClassroomClick() {\n    if (history.pushState && this.state.class) {\n      history.pushState({}, \"\", `${location.pathname}?class=${this.state.class}`)\n    }\n    this.setState({userInteractive: null, user: null})\n  }\n\n  renderNav():JSX.Element|null {\n    if (this.state.class !== null) {\n      const showClassroomButton = (this.state.user !== null) && (this.state.userInteractive !== null)\n      return <div className=\"nav\">\n               { this.state.className !== null ? <h3>{this.state.className}</h3> : null }\n               {showClassroomButton ? <button key=\"classroom\" className=\"button button-primary\" onClick={this.onClassroomClick.bind(this)}>View All</button> : null}\n             </div>\n    }\n    return null\n  }\n\n  getInteractiveHref(user:User, userInteractive:UserInteractive):string {\n    return `${location.pathname}?class=${this.state.class}&interactive=${userInteractive.id.split(\"_\")[1]}&user=${user.id}&createdAt=${userInteractive.createdAt}`\n  }\n\n  setUserInteractive(user:User, userInteractive:UserInteractive) {\n    if (history.pushState) {\n      const href = this.getInteractiveHref(user, userInteractive)\n      history.pushState({user: user, userInteractive: userInteractive}, \"\", href)\n    }\n\n    this.setState({\n      user: user,\n      userInteractive: userInteractive\n    })\n  }\n\n  renderPage():JSX.Element|null {\n    if (this.state.class !== null) {\n      if ((this.state.userInteractive !== null) && (this.state.user !== null)) {\n        return <UserPage\n                 userInteractive={this.state.userInteractive}\n                 user={this.state.user}\n                 setUserInteractive={this.setUserInteractive}\n                 getInteractiveHref={this.getInteractiveHref}\n                 classInfo={this.classInfo}\n                 />\n      }\n      return <ClassroomPage\n               class={this.state.class}\n               interactives={this.state.interactives}\n               users={this.state.users}\n               activity={this.state.activity}\n               setUserInteractive={this.setUserInteractive}\n               getInteractiveHref={this.getInteractiveHref}\n               classInfo={this.classInfo}\n               />\n    }\n    return null\n  }\n\n  render() {\n    return <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"twelve columns\">\n          <div className=\"header\">\n            <img src=\"../assets/img/concord.png\" /> Classroom Sharing\n          </div>\n          { this.renderNav() }\n          { !this.state.error && this.state.loading ? <div className=\"section loading\"><img src=\"../assets/img/loading.gif\" /> Loading...</div> : null }\n          { this.state.error ? <div className=\"section error\">{this.state.error}</div> : null }\n          { this.state.firebaseData ? this.renderPage() : null }\n        </div>\n      </div>\n    </div>\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/app.tsx","import * as React from \"react\";\nimport { Interactive, InteractiveMap, User, UserMap, UserInteractive, Activity} from \"./types\"\nimport { ClassInfo } from \"./class-info\"\nimport { ago } from \"./ago\"\n\nexport interface ClassroomPageProps {\n  setUserInteractive:(user:User, interactive:UserInteractive) => void\n  getInteractiveHref: (user:User, userInteractive:UserInteractive) => string\n  class: string,\n  interactives: Array<Interactive>\n  users: Array<User>\n  activity: Array<Activity>\n  classInfo: ClassInfo\n}\n\nexport type Tab = \"users\" | \"interactives\" | \"activity\"\n\nexport interface ClassroomPageState {\n  currentTab: Tab\n}\n\nexport type ClickHandler = (e:React.MouseEvent<HTMLAnchorElement>) => void\n\nexport class ClassroomPage extends React.Component<ClassroomPageProps, ClassroomPageState> {\n\n  constructor(props: ClassroomPageProps) {\n    super(props)\n\n    this.state = {\n      currentTab: \"users\"\n    }\n  }\n\n  createOnClick(href: string, user:User, userInteractive:UserInteractive):ClickHandler {\n    return (e:React.MouseEvent<HTMLAnchorElement>) => {\n      e.preventDefault()\n      this.props.setUserInteractive(user, userInteractive)\n    }\n  }\n\n  renderUser(user:User):JSX.Element {\n    const interactives:Array<JSX.Element> = Object.keys(user.interactives).map<JSX.Element>((interactiveId) => {\n      const userInteractives = user.interactives[interactiveId]\n      const userInteractive = userInteractives[0]\n      const key = `${user.id}-${interactiveId}`\n      const href = this.props.getInteractiveHref(user, userInteractive)\n      const onClick = this.createOnClick(href, user, userInteractive)\n      return <span key={key}><a href={href} onClick={onClick}>{userInteractive.name}</a> ({userInteractives.length})</span>\n    })\n\n    return <tr key={user.id}>\n             <td>{user.name}</td>\n             <td>{interactives}</td>\n           </tr>\n  }\n\n  renderInteractive(interactive:Interactive):JSX.Element {\n    const users:Array<JSX.Element> = Object.keys(interactive.users).map<JSX.Element>((userId) => {\n      const user = interactive.users[userId]\n      const userInteractives = user.interactives[interactive.id]\n      const userInteractive = userInteractives[0]\n      const key = `${user.id}-${interactive.id}`\n      const href = this.props.getInteractiveHref(user, userInteractive)\n      const onClick = this.createOnClick(href, user, userInteractive)\n      return <span key={key}><a href={href} onClick={onClick}>{user.name}</a> ({userInteractives.length})</span>\n    })\n\n    return <tr key={interactive.id}>\n             <td>{interactive.name}</td>\n             <td>{users}</td>\n           </tr>\n  }\n\n  renderUsers():JSX.Element {\n    if (this.props.users.length === 0) {\n      return <div>No teachers or students have published any interactives yet</div>\n    }\n    return <table className=\"u-full-width\">\n             <thead>\n               <tr>\n                 <th>User</th>\n                 <th>Published Interactives</th>\n               </tr>\n             </thead>\n             <tbody>\n               {this.props.users.map(this.renderUser.bind(this))}\n             </tbody>\n           </table>\n  }\n\n  renderInteractives():JSX.Element {\n    if (this.props.interactives.length === 0) {\n      return <div>No interactives have been published yet</div>\n    }\n    return <table className=\"u-full-width\">\n             <thead>\n               <tr>\n                 <th>Published Interactive</th>\n                 <th>Users</th>\n               </tr>\n             </thead>\n             <tbody>\n               {this.props.interactives.map(this.renderInteractive.bind(this))}\n             </tbody>\n           </table>\n  }\n\n  renderActivity(activity:Activity, index:number):JSX.Element {\n    const href = this.props.getInteractiveHref(activity.user, activity.userInteractive)\n    const onClick = this.createOnClick(href, activity.user, activity.userInteractive)\n    return <div className=\"activity\" key={`${activity.user.id}-${activity.userInteractive.id}-${index}`}>\n            {activity.user.name} published\n            <a href={href} onClick={onClick}>{activity.userInteractive.name}</a>\n            {ago(activity.userInteractive.createdAt)}\n           </div>\n  }\n\n  renderActivityList():JSX.Element {\n    if (this.props.activity.length === 0) {\n      return <div>There has been no activity in this classroom yet</div>\n    }\n    return <div className=\"activity-list\">{this.props.activity.map(this.renderActivity.bind(this))}</div>\n  }\n\n  renderTabs() {\n    const selectTab = (tab:Tab) => {\n      return () => {\n        this.setState({currentTab: tab})\n      }\n    }\n    return <ul className=\"tab\">\n             <li className={this.state.currentTab === \"users\" ? \"active\" : \"\"}><span onClick={selectTab(\"users\")}>Users</span></li>\n             <li className={this.state.currentTab === \"interactives\" ? \"active\" : \"\"}><span onClick={selectTab(\"interactives\")}>Interactives</span></li>\n             <li className={this.state.currentTab === \"activity\" ? \"active\" : \"\"}><span onClick={selectTab(\"activity\")}>Activity</span></li>\n           </ul>\n  }\n\n  renderCurrentTab() {\n    switch (this.state.currentTab) {\n      case \"users\":\n        return this.renderUsers()\n      case \"interactives\":\n        return this.renderInteractives()\n      case \"activity\":\n        return this.renderActivityList()\n    }\n  }\n\n  render() {\n    return <div className=\"page\">\n      { this.renderTabs() }\n      { this.renderCurrentTab() }\n    </div>\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/classroom-page.tsx","import * as React from \"react\"\nimport { Interactive, UserInteractive, InteractiveMap, User} from \"./types\"\nimport { ClassInfo } from \"./class-info\"\nimport { ago } from \"./ago\"\nimport { IFrameSidebar } from \"./iframe-sidebar\"\n\nexport interface UserPageProps {\n  setUserInteractive:(user:User, interactive:UserInteractive) => void\n  getInteractiveHref: (user:User, userInteractive:UserInteractive) => string\n  userInteractive: UserInteractive\n  user: User\n  classInfo: ClassInfo\n}\n\nexport interface UserPageState {\n  currentInteractiveCount: number\n}\n\nexport class UserPage extends React.Component<UserPageProps, UserPageState> {\n\n  constructor(props: UserPageProps) {\n    super(props)\n    this.versionSelected = this.versionSelected.bind(this)\n    this.state = {\n      currentInteractiveCount: 0\n    }\n  }\n\n  componentDidMount() {\n    // TODO: resize iframe\n  }\n\n  componentWillReceiveProps(nextProps:UserPageProps) {\n    // check if the student added a version\n    if (nextProps.user.id === this.props.user.id) {\n      const nextInteractives = nextProps.user.interactives[this.props.userInteractive.id]\n      const currentInteractives = this.props.user.interactives[this.props.userInteractive.id]\n      if (nextInteractives.length > currentInteractives.length) {\n        //debugger\n      }\n    }\n  }\n\n\n  versionSelected(e:React.SyntheticEvent<HTMLSelectElement>) {\n    e.preventDefault()\n    const value = parseInt(e.currentTarget.value, 10)\n    const interactives = this.props.user.interactives[this.props.userInteractive.id]\n    const interactive = interactives.filter((interactive) => { return interactive.createdAt === value})[0]\n    if (interactive) {\n      this.props.setUserInteractive(this.props.user, interactive)\n    }\n  }\n\n  renderDropdown() {\n    const interactives = this.props.user.interactives[this.props.userInteractive.id]\n    if (interactives.length < 2) {\n      return null\n    }\n    const options = interactives.map<JSX.Element>((interactive, index) => {\n      const number = interactives.length - index\n      return <option key={index} value={interactive.createdAt}>Version #{number}, published {ago(interactive.createdAt)}</option>\n    })\n    return <div><select ref=\"createdAtSelect\" onChange={this.versionSelected} value={this.props.userInteractive.createdAt}>{options}</select></div>\n  }\n\n  render() {\n    return <div className=\"page\">\n      <div className=\"page-header\">\n        <h4>{this.props.user.name}: {this.props.userInteractive.name}</h4>\n        { this.renderDropdown() }\n      </div>\n      <div id=\"iframe\" className=\"u-full-width\">\n        <iframe className=\"u-full-width\" src={this.props.userInteractive.url}></iframe>\n      </div>\n    </div>\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/user-page.tsx"],"sourceRoot":""}